{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/react-leaflet-layerlist.js","../src/layer-list-item.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import PropTypes from 'prop-types';\nimport { MapControl, withLeaflet } from 'react-leaflet';\nimport L from 'leaflet';\n\nvar equal = require('deep-equal');\n\nvar ReactDOM = require('react-dom');\n\nimport './styles.css';\n\n\nL.Control.LayerListControl = L.Control.extend({\n\t_layerListContainer: null,\n\t_isOpen: false,\n\t_layerlistItems: [],\n\t_children: [],\n\t_openButton: null,\n\t_closeButton: null,\n\t_openButtonStyle: null,\n\t_closeButtonStyle: null,\n\t_layerListStyle: null,\n\t_position: null,\n\t_style: null,\n\tinitialize: function(element) {\n\t\tthis._position = element.position;\n\t\tthis._children = this.initChildren(element.children);\n\t\tthis._layerListItems = new Array();\n\t\tthis._style = element.style;\n\t\tthis._renderExclude = element.renderExclude;\n\t\tthis._openButtonStyle = element.openButtonStyle;\n\t\tthis._closeButtonStyle = element.closeButtonStyle;\n\t\tthis._onOpen = element.onOpen;\n\t\tthis._onClose = element.onClose;\n\t\tthis._startOpen = element.startOpen;\n\t\tthis._debounceActive = false;\n\t},\n\tinitChildren(children) {\n\t\tvar newChildren = [];\n\t\tfor(var i = 0; i < children.length; i++){\n\t\t\tif(children[i]) {\n\t\t\t\tif(children[i]._tail || children[i]._root || children[i].length) { \n\t\t\t\t\tchildren[i].map((element) => {\n\t\t\t\t\t\tif(element) {\n\t\t\t\t\t\t\tnewChildren.push(element);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnewChildren.push(children[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn newChildren;\n\t},\n\tonAdd: function(map) {\n\n\t\tthis.options.position  = this._position;\n\t\tthis._layerListContainer = L.DomUtil.create('div', 'layer-list-container closed');\t\t\n\t\tthis._openButton = L.DomUtil.create('div', 'layer-list-open-button visible', this._layerListContainer);\n\t\tthis._closeButton = L.DomUtil.create('div', 'layer-list-close-button hidden', this._layerListContainer);\n\t\tthis._map = map;\n\t\t\n\t\tif (this._openButtonStyle) {\n\t\t\tObject.keys(this._openButtonStyle).forEach(key => {\n\t\t\t\tthis._openButton.style[key] = this._openButtonStyle[key];\n\t\t\t});\n\t\t}\n\n\t\tif (this._closeButtonStyle) {\n\t\t\tObject.keys(this._closeButtonStyle).forEach(key => {\n\t\t\t\tthis._closeButton.style[key] = this._closeButtonStyle[key];\n\t\t\t});\n\t\t}\n\t\tif(this._startOpen) this.open(map);\n\t\tL.DomEvent.on(this._openButton, 'click', () => {\n\t\t\tthis.open(map);\n\t\t});\n\n\t\tL.DomEvent.on(this._closeButton, 'click', () => {\n\t\t\tthis.close(map);\n\t\t});\n\n\t\tL.DomEvent.on(this._map, 'click', () => {\n\t\t\tif (this._isOpen) {\n\t\t\t\tthis.close(map);\n\t\t\t}\n\t\t});\n\n\t\tL.DomEvent.disableClickPropagation(this._openButton);\n\t\tL.DomEvent.disableClickPropagation(this._closeButton);\n\t\tL.DomEvent.disableClickPropagation(this._layerListContainer);\n\t\tL.DomEvent.disableScrollPropagation(this._layerListContainer);\n\t\treturn this._layerListContainer;\n\t},\n\tonRemove: function(map) {\n\t\t// Do nothing\n\t},\n\topen: function(map) {\n\t\tif (!this._isOpen) {\n\t\t\tif(this._onOpen) this._onOpen();\n\t\t\tL.DomUtil.removeClass(this._openButton, 'visible');\n\t\t\tL.DomUtil.addClass(this._openButton, 'hidden');\n\n\t\t\tL.DomUtil.removeClass(this._closeButton, 'hidden');\n\t\t\tL.DomUtil.addClass(this._closeButton, 'visible');\n\n\t\t\tL.DomUtil.removeClass(this._layerListContainer, 'closed');\n\t\t\tL.DomUtil.addClass(this._layerListContainer, 'open');\n\n\t\t\tif (this._style) {\n\t\t\t\tObject.keys(this._style).forEach(key => {\n\t\t\t\t\tthis._layerListContainer.style[key] = this._style[key];\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis._showLayerlistElements(map);\n\t\t\tthis._isOpen = true;\t\t\t\n\t\t}\n\t},\n\tclose: function(map) {\n\t\tL.DomUtil.removeClass(this._openButton, 'hidden');\n\t\tL.DomUtil.addClass(this._openButton, 'visible');\n\n\t\tL.DomUtil.removeClass(this._closeButton, 'visible');\n\t\tL.DomUtil.addClass(this._closeButton, 'hidden');\n\n\t\tL.DomUtil.removeClass(this._layerListContainer, 'open');\n\t\tL.DomUtil.addClass(this._layerListContainer, 'closed');\n\t\tthis._removeLayerlistElements(map);\n\n\t\tif(this._onClose) this._onClose();\n\t\tif (this._style) {\n\t\t\tObject.keys(this._style).forEach(key => {\n\t\t\t\tthis._layerListContainer.style[key] = null;\n\t\t\t});\n\t\t}\n\n\t\tthis._isOpen = false;\n\t},\n\t_showLayerlistElements: function(map) {\n\t\tfor (var index = 0; index < this._children.length; index++) {\n\t\t\tvar item = this._children[index];\n\t\t\tvar container = L.DomUtil.create('div', 'layer-list-item-container item-' + index, this._layerListContainer);\n\t\t\tthis._layerListItems.push(container);\n\t\t\tconst el = ReactDOM.createPortal(item, container);\n\t\t\tReactDOM.render(el, container);\n\t\t}\n\t},\n\t_removeLayerlistElements: function(map) {\n\t\tfor (var index = 0; index < this._layerListItems.length; index++) {\n\t\t\tvar item = this._layerListItems[index];\n\t\t\tL.DomUtil.remove(item);\n\t\t}\n\t\tthis._layerListItems = [];\n\t},\n\t_updateLayerlistElements: function(element) {\n\t\tif(this._isOpen && !this._debounceActive) {\n\t\t\tvar map = this._map;\n\t\t\tthis._debounceActive = true;\n\t\t\tvar newChildren = this.initChildren(element.children);\n\n\t\t\tvar keepLayerListItems = [];\n\t\t\tvar farCan = false;\n\t\t\tvar numberOfItems = newChildren.length > this._children.length ? newChildren.length : this._children.length;\n\t\t\tfor (var index = 0; index < numberOfItems; index++) {\n\t\t\t\tif(!farCan && newChildren[index] && this._children[index] && this._compareNodes(this._children[index], newChildren[index])) {\n\t\t\t\t\tkeepLayerListItems.push(this._layerListItems[index]);\n\t\t\t\t} else {\n\t\t\t\t\tfarCan = true;\n\t\t\t\t\tvar item = newChildren[index];\n\t\t\t\t\tvar layerItem = this._layerListItems[index];\n\t\t\t\t\tif(layerItem) {\n\t\t\t\t\t\tL.DomUtil.remove(layerItem);\n\t\t\t\t\t}\n\t\t\t\t\tif(newChildren[index]) {\n\t\t\t\t\t\tvar container = L.DomUtil.create('div', 'layer-list-item-container item-' + index, this._layerListContainer);\n\t\t\t\t\t\tkeepLayerListItems.push(container);\n\t\t\t\t\t\tconst el = ReactDOM.createPortal(item, container);\n\t\t\t\t\t\tReactDOM.render(el, container);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._layerListItems = keepLayerListItems;\n\t\t\tthis._children = newChildren;\n\t\t\tthis._debounceActive = false;\n\t\t} else {\n\t\t\tthis._children = this.initChildren(element.children);\n\t\t}\n\t},\n\t_compareNodes: function(node1, node2) {\n\t\treturn this.stringifyNode(node1, this._renderExclude) === this.stringifyNode(node2, this._renderExclude);\n\t}, stringifyNode(node, exclude) {\n\t\tvar cache = [];\n\t\tvar stringify = JSON.stringify(node, function(key, value) {\n\t\t\tif (typeof value === 'object' && value !== null) {\n\t\t\t\tif (cache.indexOf(value) !== -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcache.push(value);\n\t\t\t}\n\t\t\tif(key === \"_owner\") return undefined;\n\t\t\tif(exclude && exclude.length) {\n\t\t\t\tfor(var i = 0; i < exclude.length; i++) {\n\t\t\t\t\tif(key === exclude[i]) return undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn value;\n\t\t});\n\t\tcache = null; \n\t\treturn stringify;\n\t}\n});\n\nL.control.layerListControl = (opts) => {\n    return new L.Control.LayerListControl({...opts});\n}\n\nclass ReactLeafletLayerList extends MapControl {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentWillReceiveProps() {\n\t\tthis._layerList._updateLayerlistElements(this.props);\n\t}\n\n\tcreateLeafletElement(props) {\n\t\tthis._layerList = L.control.layerListControl({\n\t\t\tposition: props.position || 'topright',\n\t\t\tstyle: props.style,\n\t\t\tonOpen: props.onOpen,\n\t\t\tonClose: props.onClose,\n\t\t\tstartOpen: props.startOpen,\n\t\t\trenderExclude: props.renderExclude,\n\t\t\topenButtonStyle: props.openButtonStyle,\n\t\t\t...props\n\t\t});\n\t\treturn this._layerList;\n\t}\n}\n\nexport default withLeaflet(ReactLeafletLayerList);\n\n\nReactLeafletLayerList.propTypes = {\n\tposition: PropTypes.oneOf(['topright', 'topleft', 'bottomright', 'bottomleft']),\n\tstyle: PropTypes.objectOf(PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t])),\n\topenButtonStyle: PropTypes.objectOf(PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t])),\n\tcloseButtonStyle: PropTypes.objectOf(PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t])),\n\tonOpen: function() { return null },\n\tonClose: function() { return null },\n\trenderExclude: [],\n\topen: true,\n\tstartOpen: false\n};\n","import * as React from 'react';\n\nconst LayerListItem = props => props.children;\nexport default LayerListItem;\n"],"names":["equal","require","ReactDOM","L","Control","LayerListControl","extend","element","_position","position","_children","initChildren","children","_layerListItems","Array","_style","style","_renderExclude","renderExclude","_openButtonStyle","openButtonStyle","_closeButtonStyle","closeButtonStyle","_onOpen","onOpen","_onClose","onClose","_startOpen","startOpen","_debounceActive","newChildren","i","length","_tail","_root","map","push","options","_layerListContainer","DomUtil","create","_openButton","_closeButton","_map","keys","forEach","key","open","DomEvent","on","close","_isOpen","disableClickPropagation","disableScrollPropagation","removeClass","addClass","_showLayerlistElements","_removeLayerlistElements","index","item","container","el","createPortal","render","remove","keepLayerListItems","farCan","numberOfItems","_compareNodes","layerItem","node1","node2","stringifyNode","node","exclude","cache","stringify","JSON","value","indexOf","undefined","control","layerListControl","opts","ReactLeafletLayerList","props","_layerList","_updateLayerlistElements","MapControl","withLeaflet","propTypes","PropTypes","oneOf","objectOf","oneOfType","string","number","LayerListItem"],"mappings":"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"}